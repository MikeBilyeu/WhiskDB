(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{109:function(e,t,a){},120:function(e,t,a){},133:function(e,t,a){e.exports=a.p+"static/media/zipiwisk-logo.1edad385.png"},134:function(module,__webpack_exports__,__webpack_require__){"use strict";var _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(24),replaceFractionSymbols=function(e){var t=["\u215b","\xbc","\u2153","\xbd","\u2154","\xbe"],a=t.findIndex(function(t){return e.includes(t)});return e.replace(t[a],[" 1/8"," 1/4"," 1/3"," 1/2"," 2/3"," 3/4"][a]).trim()},splitIngredientStr=function(e){e=e.replace(/\s+/g," ").trim();var t=replaceFractionSymbols(_ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.amount.exec(e)[0]);return e=e.replace(_ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.amount,"").trim(),{amount:t,unit:_ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.units.exec(e)?_ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.units.exec(e)[0]:"",ingredient:e.replace(_ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.units,"").trim()}},getMetricAmount=function getMetricAmount(amount,unit){var decimalAmount=eval(amount.split(/[ -]+/).join("+")),metricUnit="";switch(!0){case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.cup.test(unit):decimalAmount*=240,metricUnit="ml";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.tablespoon.test(unit):case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.T.test(unit):decimalAmount*=15,metricUnit="ml";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.teaspoon.test(unit):case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.t.test(unit):decimalAmount*=5,metricUnit="ml";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.milliliter.test(unit):decimalAmount*=1,metricUnit="ml";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.liter.test(unit):decimalAmount*=1e3,metricUnit="ml";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.ounce.test(unit):decimalAmount*=28.35,metricUnit="g";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.pound.test(unit):decimalAmount*=453.592,metricUnit="g";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.kilogram.test(unit):decimalAmount*=1e3,metricUnit="g";break;case _ingredientRegex__WEBPACK_IMPORTED_MODULE_0__.a.gram.test(unit):decimalAmount*=1,metricUnit="g"}return{decimalAmount:decimalAmount,metricUnit:metricUnit}},formatIngredientList=function(e){return e.map(function(e){var t=splitIngredientStr(e),a=t.amount,n=t.unit,r=t.ingredient,c=getMetricAmount(a,n),i=c.decimalAmount,l=c.metricUnit;return{amount:i.toString(),unit:l,ingredient:r}})};__webpack_exports__.a=formatIngredientList},159:function(e,t,a){e.exports=a(319)},24:function(e,t,a){"use strict";t.a={amount:/^(\d{0,3}(\.(?=\d)\d{1,2})|^[1-9]?\d?(( |-){0,2}[\u215b\xbc\u2153\xbd\u2154\xbe])|^[1-9]\d?\/(?=[1-9]\d?)[1-9]\d?|^\d{1,3}( |-)[1-9]\d?\/[1-9]\d?|^[1-9]\d{0,2})/,units:/^\b(cup(s?)|c|cp|tablespoon(s?)|tb(sp|s|l|ls)?|teaspoon(s?)|tsp|ts|t|lit(er|re)(s?)|l|millilit(er|re)(s?)|ml|ounce(s?)|oz|pound(s?)|lb(s?)|kilogram(s?)|kg(s?)|gram(s?)|g(s?))\b/i,cup:/\b(cup(s?)|c|cp)\b/i,tablespoon:/\b(tablespoon(s?)|tb(sp|s|l|ls)?)\b/i,T:/\bT\b/,teaspoon:/\b(teaspoon(s?)|tsp|ts)\b/i,t:/\bt\b/,liter:/\b(lit(er|re)(s?)|l)\b/i,milliliter:/\b(millilit(er|re)(s?)|ml)\b/i,ounce:/\b(ounce(s?)|oz)\b/i,pound:/\b(pound(s?)|lb(s?))\b/i,kilogram:/\b(kilogram(s?)|kg(s?))\b/i,gram:/\b(gram(s?)|g(s?))\b/i}},250:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},262:function(e,t,a){},263:function(e,t,a){},264:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){},318:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(127),i=a.n(c),l=a(3),s=a(13),o=a(123),u=a(5),m={isAuthenticated:!1,user:{user_id:null,username:"",full_name:"",email:""},loading:!1,openDelete:!1,filterRecipes:{meal:"All Meals",offset:0},activeFilterBtn:null},p={},f={recipe:{},isFetching:!0,unit:"US",reviewOpen:!1,showMoreOpen:!1,editRecipe:!1,ratingPercentage:{star5:0,star4:0,star3:0,star2:0,star1:0,num_reviews:0,rating:0},review:null},d=a(29),E={recipes:[],isFetching:!0},v={recipes:[],isFetching:!0,filterRecipes:{search:"",meal:"All Meals",diet:"None",sort:"Top Rated",offset:0},activeFilterBtn:null},g=Object(s.c)({form:o.a,auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_CURRENT_USER":return 0!==Object.keys(t.payload).length?Object(u.a)({},e,{isAuthenticated:!0,user:Object(u.a)({},e.user,{user_id:t.payload.user_id})}):m;case"SET_PROFILE_FILTER_DATA":return Object(u.a)({},e,{filterRecipes:t.payload});case"TOGGLE_FILTER_BUTTON_PROFILE":return t.payload===e.activeFilterBtn?Object(u.a)({},e,{activeFilterBtn:null}):Object(u.a)({},e,{activeFilterBtn:t.payload});case"SAVED_OFFSET_INCREMENT":return Object(u.a)({},e,{filterRecipes:Object(u.a)({},e.filterRecipes,{offset:e.filterRecipes.offset+1})});case"GET_USER":return Object(u.a)({},e,{user:t.payload});case"USER_LOADING":return Object(u.a)({},e,{loading:!0});case"TOGGLE_DELETE":return Object(u.a)({},e,{openDelete:!e.openDelete});default:return e}},recipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_RECIPE_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_RECIPE":return Object(u.a)({},e,{recipe:t.payload,isFetching:!1,saved:t.payload.saved,reviewOpen:!1,editRecipe:!1,showMoreOpen:!1,convertedServings:t.payload.servings,ratingPercentage:{star5:0,star4:0,star3:0,star2:0,star1:0,rating:t.payload.rating,num_reviews:t.payload.num_reviews},review:null});case"GET_RECIPE_REVIEW":return Object(u.a)({},e,{review:t.payload});case"GET_RATING_PERCENTAGE":return Object(u.a)({},e,{ratingPercentage:t.payload});case"SUBMIT_REVIEW":return Object(u.a)({},e,{recipe:Object(u.a)({},e.recipe)});case"SAVE_RECIPE":return Object(u.a)({},e,{saved:!e.saved});case"TOGGLE_REVIEW":return Object(u.a)({},e,{reviewOpen:!e.reviewOpen});case"TOGGLE_SHOW_MORE":return Object(u.a)({},e,{showMoreOpen:!e.showMoreOpen});case"TOGGLE_UNIT":return Object(u.a)({},e,{unit:"US"===e.unit?"Metric":"US"});case"CONVERT_SERVINGS":return Object(u.a)({},e,{convertedServings:t.payload});case"TOGGLE_EDIT_RECIPE":return Object(u.a)({},e,{editRecipe:!e.editRecipe});default:return e}},savedRecipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SAVED_RECIPES_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_SAVED_RECIPES":return Object(u.a)({},e,{recipes:[].concat(Object(d.a)(e.recipes),Object(d.a)(t.payload)),isFetching:!1});case"REMOVE_SAVED_RECIPES":return Object(u.a)({},e,{recipes:E.recipes});default:return e}},browseRecipes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_BROWSE_REQUEST":return Object(u.a)({},e,{isFetching:!0});case"GET_BROWSE_RECIPES":return Object(u.a)({},e,{recipes:[].concat(Object(d.a)(e.recipes),Object(d.a)(t.payload)),isFetching:!1});case"SET_BROWSE_DATA":return Object(u.a)({},e,{filterRecipes:Object(u.a)({},e.filterRecipes,t.payload)});case"REMOVE_RECIPES":return Object(u.a)({},e,{recipes:v.recipes});case"OFFSET_INCREMENT":return Object(u.a)({},e,{filterRecipes:Object(u.a)({},e.filterRecipes,{offset:e.filterRecipes.offset+1})});case"GET_USER":return Object(u.a)({},e,{filterRecipes:Object(u.a)({},e.filterRecipes,{diet:t.payload.diet})});case"TOGGLE_FILTER_BUTTON_BROWSE":return t.payload===e.activeFilterBtn?Object(u.a)({},e,{activeFilterBtn:null}):Object(u.a)({},e,{activeFilterBtn:t.payload});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ERRORS":return t.payload;default:return e}}}),_=[a(130).a],h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,b=Object(s.e)(g,{},h(s.a.apply(void 0,_))),O=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function y(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var R=a(324),w=a(320),j=a(325),N=a(70),k=a(323),S=Object(l.b)(function(e){return{auth:e.auth}})(function(e){var t=e.component,a=e.auth,n=Object(N.a)(e,["component","auth"]);return r.a.createElement(w.a,Object.assign({},n,{render:function(e){return!0===a.isAuthenticated?r.a.createElement(t,e):r.a.createElement(k.a,{to:"/auth"})}}))}),T=a(39),x=a.n(T),C=a(8),F=a.n(C),B=function(e){e?F.a.defaults.headers.common.Authorization=e:delete F.a.defaults.headers.common.Authorization},A=a(4),I=a.n(A),P=a(9),M=function(){return function(){var e=Object(P.a)(I.a.mark(function e(t){var a,n;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.get("/user");case 3:a=e.sent,n=a.data,t({type:"GET_USER",payload:n}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"GET_ERRORS",payload:e.t0});case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t){return e.apply(this,arguments)}}()},L=function(){return function(e){localStorage.removeItem("jwtToken"),B(!1),e(K({}))}},D=function(){return function(){var e=Object(P.a)(I.a.mark(function e(t){return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,F.a.delete("/delete-user");case 3:t(L()),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),t({type:"GET_ERRORS",payload:e.t0.response.data});case 9:case"end":return e.stop()}},e,null,[[0,6]])}));return function(t){return e.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=1,t.next=4,fetch("https://api.cloudinary.com/v1_1/mikebilyeuimg/image/upload",{method:"POST",body:e});case 4:return n=t.sent,t.next=7,n.json();case 7:return n=t.sent,t.abrupt("return",n.secure_url);case 11:t.prev=11,t.t0=t.catch(1),console.error(t.t0);case 14:case"end":return t.stop()}},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()},G=a(62),W=function(e,t){return function(){var a=Object(P.a)(I.a.mark(function a(n){var r,c,i,l,s;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(r=Object(u.a)({},e),a.prev=1,!e.imageFile){a.next=7;break}return a.next=5,n(U(e.imageFile));case 5:c=a.sent,r=Object(u.a)({},e,{image_url:c});case 7:return a.next=9,F.a.post("/edit-profile",r);case 9:i=a.sent,l=i.data.token,localStorage.setItem("jwtToken",l),B(l),s=x()(l),n(K(s)),t.push("/profile/"),a.next=22;break;case 18:throw a.prev=18,a.t0=a.catch(1),console.error(a.t0),new G.a(a.t0);case 22:case"end":return a.stop()}},a,null,[[1,18]])}));return function(e){return a.apply(this,arguments)}}()},z=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){var n,r,c;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.post("/login",e);case 3:n=t.sent,r=n.data.token,localStorage.setItem("jwtToken",r),B(r),c=x()(r),a(K(c)),t.next=14;break;case 11:throw t.prev=11,t.t0=t.catch(0),new G.a(t.t0.response.data);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(e){return t.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.post("/register",e);case 3:a(z({email:e.email,password:e.password})),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0.response.data});case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a({type:"SET_CURRENT_USER",payload:e}),!(0!==Object.keys(e).length)){t.next=5;break}return t.next=5,a(M());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},H=function(){return{type:"TOGGLE_DELETE"}},Z=a(25),q=a(7),Q=a.n(q),$=a(14),J=a.n($),Y=a(321),X=a(322);function ee(){return(ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function te(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ae=r.a.createElement("path",{fill:"#464646",stroke:"#464646",strokeWidth:.5,d:"M22,20.7l-4.8-5c2.9-3.4,2.4-8.5-1.1-11.4S7.5,2,4.6,5.4S2.2,14,5.7,16.8c2.9,2.4,7,2.5,10,0.4l4.8,5 c0.4,0.4,1.1,0.5,1.5,0.1l0,0C22.4,21.8,22.4,21.1,22,20.7z M10.9,3.7c3.8,0,6.9,3,6.9,6.8s-3.1,6.8-6.9,6.8S4,14.2,4,10.5 S7.1,3.7,10.9,3.7z"}),ne=function(e){var t=e.svgRef,a=te(e,["svgRef"]);return r.a.createElement("svg",ee({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 25 25",style:{enableBackground:"new 0 0 25 25"},xmlSpace:"preserve",ref:t},a),ae)},re=r.a.forwardRef(function(e,t){return r.a.createElement(ne,ee({svgRef:t},e))});a.p;function ce(){return(ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ie(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var le=r.a.createElement("path",{fill:"#464646",stroke:"#464646",strokeWidth:.25,d:"M12.5,13.7c3.1,0,5.6-2.5,5.6-5.6s-2.5-5.6-5.6-5.6S6.9,5,6.9,8.1S9.4,13.7,12.5,13.7z M12.5,3.7 c2.4,0,4.5,2,4.5,4.5s-2,4.5-4.5,4.5S8,10.6,8,8.1S10.1,3.7,12.5,3.7z M2.8,22.5h19.5c0.4,0,0.7-0.3,0.7-0.7c0-3.9-3.1-7-7-7H9.1 c-3.9,0-7,3.2-7,7C2,22.2,2.4,22.5,2.8,22.5z M9.1,16.1h7.1c2.9,0,5.3,2.3,5.7,5.2H3.5C3.8,18.4,6.2,16.1,9.1,16.1z"}),se=function(e){var t=e.svgRef,a=ie(e,["svgRef"]);return r.a.createElement("svg",ce({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 25 25",style:{enableBackground:"new 0 0 25 25"},xmlSpace:"preserve",ref:t},a),le)},oe=r.a.forwardRef(function(e,t){return r.a.createElement(se,ce({svgRef:t},e))}),ue=(a.p,a(250),Object(X.a)(function(e){var t=Object(n.useState)(""),a=Object(Z.a)(t,2),c=a[0],i=a[1],l=e.location.pathname;return Object(n.useEffect)(function(){/^\/recipe*/.test(l)?i("recipe"):/profile|auth/.test(l)?i("profile"):i("home")},[l]),"recipe"!==c&&r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement("div",{className:"nav-bar"},r.a.createElement(Y.a,{to:"/",className:"nav-bar__link"},r.a.createElement(re,{className:Q()("nav-bar__icon",{"nav-bar__icon--active":"home"===c})})),r.a.createElement(Y.a,{to:"/profile",className:"nav-bar__link"},r.a.createElement(oe,{className:Q()("nav-bar__icon",{"nav-bar__icon--active":"profile"===c})}))))})),me=a(16),pe=function(){return function(){var e=Object(P.a)(I.a.mark(function e(t,a){var n,r,c,i,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.auth.user.user_id,c=n.browseRecipes.filterRecipes,t({type:"GET_BROWSE_REQUEST"}),t({type:"TOGGLE_FILTER_BUTTON_BROWSE",payload:null}),t({type:"SET_BROWSE_DATA",payload:c}),e.prev=4,e.next=7,F.a.get("/browse-recipe",{params:{filterRecipes:c,user_id:r}});case 7:i=e.sent,l=i.data,t({type:"GET_BROWSE_RECIPES",payload:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),t({type:"GET_ERRORS",payload:e.t0});case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t,a){return e.apply(this,arguments)}}()},fe=function(){return function(){var e=Object(P.a)(I.a.mark(function e(t,a){var n,r,c,i,l;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.auth.user.user_id,c=n.browseRecipes.filterRecipes,t({type:"GET_BROWSE_REQUEST"}),t({type:"TOGGLE_FILTER_BUTTON_BROWSE",payload:null}),t({type:"SET_BROWSE_DATA",payload:c}),e.prev=4,e.next=7,F.a.get("/search-recipe",{params:{filterRecipes:c,user_id:r}});case 7:i=e.sent,l=i.data,t({type:"GET_BROWSE_RECIPES",payload:l}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error(e.t0);case 15:case"end":return e.stop()}},e,null,[[4,12]])}));return function(t,a){return e.apply(this,arguments)}}()},de=function(){return function(e,t){var a=t().browseRecipes.filterRecipes;a.search?(e({type:"OFFSET_INCREMENT"}),e(fe())):(e({type:"OFFSET_INCREMENT"}),e(pe()))}},Ee=function(e,t){return function(a,n){var r,c,i=n().browseRecipes.filterRecipes;a({type:"REMOVE_RECIPES"}),"search"===e||i.search&&"sort"===e?(a({type:"SET_BROWSE_DATA",payload:(r={},Object(me.a)(r,e,t),Object(me.a)(r,"offset",0),Object(me.a)(r,"meal","All Meals"),r)}),a(fe())):(a({type:"SET_BROWSE_DATA",payload:(c={},Object(me.a)(c,e,t),Object(me.a)(c,"offset",0),Object(me.a)(c,"search",""),c)}),a(pe()))}},ve=function(e){return{type:"TOGGLE_FILTER_BUTTON_BROWSE",payload:e}},ge=function(e){return{type:"TOGGLE_FILTER_BUTTON_PROFILE",payload:e}};function _e(){return(_e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function he(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var be=r.a.createElement("path",{fill:"#464646",d:"M15.3 4.4L11.6.7c-.2-.2-.6-.2-.9 0L7.1 4.4c-.3.2-.3.6 0 .8.2.2.6.2.9 0l2.6-2.6v10.8c0 .3.3.6.6.6s.6-.3.6-.6V2.6l2.6 2.6c.2.2.6.2.9 0 .3-.2.3-.6 0-.8zM8.9 10.8c-.2-.2-.6-.2-.9 0l-2.6 2.6V2.6c0-.4-.3-.6-.6-.6s-.6.2-.6.6v10.8l-2.6-2.6c-.2-.2-.6-.2-.9 0s-.2.6 0 .9l3.7 3.7c.2.2.6.2.9 0L9 11.7c.2-.3.2-.7-.1-.9z"}),Oe=function(e){var t=e.svgRef,a=he(e,["svgRef"]);return r.a.createElement("svg",_e({id:"Layer_1",viewBox:"0 0 16 16",ref:t},a),be)},ye=r.a.forwardRef(function(e,t){return r.a.createElement(Oe,_e({svgRef:t},e))});a.p;function Re(){return(Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var je=r.a.createElement("path",{d:"M15.4.784a2.915,2.915,0,0,1,3.978,0l14.468,13.5a2.915,2.915,0,0,1-1.989,5.046H2.921A2.915,2.915,0,0,1,.932,14.288Z",transform:"translate(34.779 19.334) rotate(180)",fill:"#E2E2E2"}),Ne=function(e){var t=e.svgRef,a=we(e,["svgRef"]);return r.a.createElement("svg",Re({width:34.779,height:19.334,viewBox:"0 0 34.779 19.334",ref:t},a),je)},ke=r.a.forwardRef(function(e,t){return r.a.createElement(Ne,Re({svgRef:t},e))}),Se=(a.p,a(251),Object(l.b)(function(e){return{activeFilterBtn:e.browseRecipes.activeFilterBtn,sortBy:e.browseRecipes.filterRecipes.sort}},{toggleFilterBtnBrowse:ve})(function(e){var t="Sort"===e.activeFilterBtn;return r.a.createElement("button",{className:e.className,onClick:function(){return e.toggleFilterBtnBrowse("Sort")}},r.a.createElement(ye,{className:"".concat(e.className,"__icon-m")}),r.a.createElement("div",{className:"".concat(e.className,"__sort-by-m")},function(e){switch(e){case"Date Saved":return"Saved";case"Top Rated":return"Rated";case"Time":return"Time";case"Newest":return"New";default:return e}}(e.sortBy)),r.a.createElement("div",{className:"".concat(e.className,"__sort-by-d")},"Sort by ",r.a.createElement("span",{style:{fontWeight:"bold"}},e.sortBy)),r.a.createElement(ke,{className:Q()("".concat(e.className,"__icon-d"),Object(me.a)({},"".concat(e.className,"__icon-d--active"),t))}))}));function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function xe(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Ce=r.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:none;stroke:#B7B7B7;stroke-width:20;stroke-linecap:round;stroke-miterlimit:10;}\n"),Fe=r.a.createElement("g",null,r.a.createElement("g",null,r.a.createElement("line",{className:"st0",x1:12,y1:14,x2:83,y2:85})),r.a.createElement("g",null,r.a.createElement("line",{className:"st0",x1:154,y1:14,x2:83,y2:85}))),Be=function(e){var t=e.svgRef,a=xe(e,["svgRef"]);return r.a.createElement("svg",Te({id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 165 98.5",style:{enableBackground:"new 0 0 165 98.5"},xmlSpace:"preserve",ref:t},a),Ce,Fe)},Ae=r.a.forwardRef(function(e,t){return r.a.createElement(Be,Te({svgRef:t},e))}),Ie=(a.p,a(252),function(e){return r.a.createElement("button",{className:Q()("".concat(e.className),Object(me.a)({},"".concat(e.className,"--active"),e.active)),onClick:function(){return e.toggleFilterButton("Meal")}},"All Meals"===e.meal?"All categories":e.meal,r.a.createElement(Ae,{className:Q()("".concat(e.className,"__icon-m"),Object(me.a)({},"".concat(e.className,"__icon-m--active"),e.active))}),r.a.createElement(ke,{className:Q()("".concat(e.className,"__icon-d"),Object(me.a)({},"".concat(e.className,"__icon-d--active"),e.active))}))});function Pe(){return(Pe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Me(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var Le=r.a.createElement("path",{d:"M55.1 51.9L41.6 37.8a23 23 0 1 0-4.3 4L50.8 56a3 3 0 0 0 4.2.2l.1-.1a3 3 0 0 0 0-4.2zM24 6a17 17 0 1 1 0 34 17 17 0 0 1 0-34z"}),De=function(e){var t=e.svgRef,a=Me(e,["svgRef"]);return r.a.createElement("svg",Pe({viewBox:"0 0 57 57",ref:t},a),Le)},Ue=r.a.forwardRef(function(e,t){return r.a.createElement(De,Pe({svgRef:t},e))}),Ge=(a.p,a(253),Object(X.a)(Object(l.b)(function(e){return{searchTerm:e.browseRecipes.filterRecipes.search}},{toggleFilterBtnBrowse:ve,toggleFilterBtnProfile:ge,updateFilterRecipe:Ee})(function(e){var t=Object(n.useState)(""),a=Object(Z.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(!1),s=Object(Z.a)(l,2),o=s[0],u=s[1],m=Object(n.useRef)(null);Object(n.useEffect)(function(){return i(e.searchTerm)},[e.searchTerm]);var p=function(){u(!0),m.current.focus(),e.toggleFilterBtnBrowse(null),e.toggleFilterBtnProfile(null)},f=function(){u(!1),m.current.blur()};return r.a.createElement("div",{className:Q()("search-bar",{"search-bar--active":o}),onClick:p,onBlur:f},r.a.createElement(Ue,{className:Q()("search-bar__icon",{"search-bar__icon--active":o})}),r.a.createElement("input",{ref:m,className:"search-bar__input",onChange:function(e){return i(e.target.value)},onFocus:p,onKeyDown:function(t){"Enter"!==t.key||t.repeat||(f(),e.history.push("/"),/\S/.test(c)?e.updateFilterRecipe("search",c):e.updateFilterRecipe("meal","All Meals"))},autoComplete:"off",placeholder:"Search thousands of delicious recipes\u2026",value:c,type:"search","aria-label":"Search"}))}))),We=(a(254),Object(l.b)(function(e){return{meal:e.browseRecipes.filterRecipes.meal,activeFilterBtn:e.browseRecipes.activeFilterBtn}},{toggleFilterBtnBrowse:ve})(function(e){var t=e.meal,a=e.activeFilterBtn,n=e.toggleFilterBtnBrowse;return r.a.createElement("header",{className:"header"},r.a.createElement(Se,{className:"sort-btn-m"}),r.a.createElement(Ie,{className:"category-btn-m",meal:t,active:"Meal"===a,toggleFilterButton:n}),r.a.createElement(Ge,null))})),ze=a(133),Ve=a.n(ze),Ke=a(66),He=a.n(Ke),Ze=(a(255),Object(X.a)(Object(l.b)(function(e){return{isAuth:e.auth.isAuthenticated,userImg:e.auth.user.image_url}})(function(e){return r.a.createElement("header",{className:"header-d"},r.a.createElement(Y.a,{to:"/",onClick:function(){return"/"!==e.location.pathname||window.location.reload()},className:"header-d__logo"},r.a.createElement("img",{src:Ve.a,alt:"zipiwisk logo"})),r.a.createElement(Ge,null),r.a.createElement("div",{className:"auth-btns"},e.isAuth?r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{to:"/",className:"auth-btns__home"},"Home"),r.a.createElement(Y.a,{to:"/profile/create-recipe",className:"auth-btns__create"},"Create Recipe"),r.a.createElement(Y.a,{to:"/profile",className:"auth-btns__profile"},r.a.createElement("img",{src:e.userImg||He.a,alt:"user profile"}))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{className:"auth-btns__login",to:"/auth/login"},"Login"),r.a.createElement(Y.a,{className:"auth-btns__signup",to:"/auth/signup"},"Signup free"))),e.children)}))),qe=["All Meals","Breakfast","Lunch","Dinner","Appetizer","Dessert","Beverage","Side"],Qe=["None","Vegetarian","Vegan"],$e=["Top Rated","Time","Newest"],Je=(a(256),Object(l.b)(null,{getBrowseRecipes:pe})(function(e){var t=function(e){var t=qe,a=null;switch(e){case"Meal":t=qe,a="meal";break;case"Diet":t=Qe,a="diet";break;case"Sort":t=$e,a="sort"}return{options:t,type:a}}(e.buttonToggled),a=t.options,n=t.type;return r.a.createElement("div",{className:"filter-results-".concat(n)},r.a.createElement("h2",{className:"filter-results-".concat(n,"__title")},n),r.a.createElement("ul",{className:"filter-list"},function(e,t,a,n){return e.map(function(e,c){var i=Q()("filter-list__option",{"filter-list__option--active":Object.values(a).indexOf(e)>=0});return r.a.createElement("button",{key:c+e,className:i,onClick:function(){n(e,t)}},e)})}(a,n,e.filterRecipes,e.handleClick)))})),Ye=Object(l.b)(function(e){return{meal:e.browseRecipes.filterRecipes.meal,activeFilterBtn:e.browseRecipes.activeFilterBtn}},{toggleFilterBtnBrowse:ve})(function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ie,{className:"category-btn-d",meal:e.meal,active:"Meal"===e.activeFilterBtn,toggleFilterButton:e.toggleFilterBtnBrowse}),r.a.createElement(Je,{filterRecipes:e.filterRecipes,handleClick:e.handleClick,buttonToggled:"Meal"}),r.a.createElement(Se,{className:"sort-btn-d"}))}),Xe=(a(257),function(){var e=Object(n.useState)(!1),t=Object(Z.a)(e,2),a=t[0],c=t[1],i=Object(n.useState)(!1),l=Object(Z.a)(i,2),s=l[0],o=l[1];return Object(n.useEffect)(function(){},[]),r.a.createElement("div",{className:"hero"},r.a.createElement("div",{className:Q()("hero-img",{"hero-img--loaded-small":a,"hero-img--loaded-big":s})},r.a.createElement("img",{onLoad:function(){return c(!0)},alt:"",src:"https://res.cloudinary.com/mikebilyeuimg/image/upload/c_scale,e_blur:100,q_auto:low,w_300/v1580746441/Recipes/lukas-blazek-f-TWhXOrLiU-unsplash.jpg",style:{width:"1px",height:"1px",zIndex:"-5",position:"absolute"}}),r.a.createElement("img",{onLoad:function(){return o(!0)},alt:"",src:"https://res.cloudinary.com/mikebilyeuimg/image/upload/q_auto:good/v1580746441/Recipes/lukas-blazek-f-TWhXOrLiU-unsplash.jpg",style:{width:"1px",height:"1px",zIndex:"-5",position:"absolute"}})),r.a.createElement("div",{className:"hero__container"},r.a.createElement("h1",{className:"hero__title"},"Zipiwisk"),r.a.createElement("p",{className:"hero__desc"},"The internet\u2019s source of free recipes.",r.a.createElement("br",null)," Explore thousands of recipes from around the world!"),r.a.createElement(Ge,null)),r.a.createElement("div",{className:"hero__img-credit"},"Photo by ",r.a.createElement("a",{className:"hero__img-src",href:"https://unsplash.com/@goumbik?utm_source=unsplash&utm_medium=referral&utm_content=creditCopyText",target:"_blank",rel:"noopener noreferrer",title:"Download free do whatever you want high-resolution photos from Lukas Blazek"},"Lukas Blazek")," on ",r.a.createElement("a",{className:"hero__img-src",href:"https://unsplash.com/",target:"_blank",rel:"noopener noreferrer",title:"Download free do whatever you want high-resolution photos from Unsplash"},"Unsplash")))}),et=(a(109),function(){return r.a.createElement("li",{className:"recipe-card-loading"},r.a.createElement("div",{className:"recipe-card-loading__thumbnail"}))});function tt(){return(tt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function at(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var nt=r.a.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),rt=r.a.createElement("path",{d:"M12 20.5a1 1 0 01-.7-.3l-7.8-7.8c-2.1-2-2.1-5.3-.1-7.4s5.4-2.1 7.4 0l.1.1 1.1 1L13.1 5a5.2 5.2 0 117.5 7.3l-.1.1-7.8 7.8a1 1 0 01-.7.3z"}),ct=function(e){var t=e.svgRef,a=at(e,["svgRef"]);return r.a.createElement("svg",tt({viewBox:"0 0 24 24",ref:t},a),nt,rt)},it=r.a.forwardRef(function(e,t){return r.a.createElement(ct,tt({svgRef:t},e))}),lt=(a.p,a(18)),st=a(19),ot=a(21),ut=a(20),mt=a(22);function pt(){return(pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function ft(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var dt=r.a.createElement("path",{d:"M8.4 1.1l1.9 4.5 4.8.4c.3 0 .5.5.2.7l-3.7 3.2 1.1 4.8c.1.3-.3.6-.6.4L8 12.6l-4.2 2.5c-.3.2-.7-.1-.6-.4l1.1-4.8L.6 6.7C.4 6.5.5 6 .9 6l4.9-.4 1.9-4.5c.1-.3.5-.3.7 0z"}),Et=function(e){var t=e.svgRef,a=ft(e,["svgRef"]);return r.a.createElement("svg",pt({viewBox:"0 0 16 16",ref:t},a),dt)},vt=r.a.forwardRef(function(e,t){return r.a.createElement(Et,pt({svgRef:t},e))});a.p;function gt(){return(gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function _t(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ht,bt=r.a.createElement("path",{d:"M7.4 12.8L18.1 2c.7-.7 1.8-.7 2.5 0s.7 1.8 0 2.5L11.1 14l9.5 9.5c.7.7.7 1.8 0 2.5s-1.8.7-2.5 0L7.4 15.2c-.4-.3-.5-.8-.5-1.2 0-.4.1-.9.5-1.2z",fill:"#707070"}),Ot=function(e){var t=e.svgRef,a=_t(e,["svgRef"]);return r.a.createElement("svg",gt({viewBox:"0 0 28 28",ref:t},a),bt)},yt=r.a.forwardRef(function(e,t){return r.a.createElement(Ot,gt({svgRef:t},e))}),Rt=(a.p,a(258),function(e){function t(e){var a;return Object(lt.a)(this,t),(a=Object(ot.a)(this,Object(ut.a)(t).call(this,e))).setStarColors=function(){a.setState(function(e,t){e.starColor;for(var a=t.rating,n=[],r=0;r<5;r++)n=[].concat(Object(d.a)(n),[Math.round(a)>r?"#FFA805":"#E2E2E2"]);return{starColor:n}})},a.renderRating=function(){return a.state.starColor.map(function(e,t){return r.a.createElement(vt,{className:"star",skey:"star"+t,style:{width:"1.1rem",fill:e}})})},a.state={starColor:["#FFA805","#FFA805","#FFA805","#FFA805","##FFA805"]},a}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"componentDidMount",value:function(){this.setStarColors()}},{key:"componentDidUpdate",value:function(e){e.rating!==this.props.rating&&this.setStarColors()}},{key:"render",value:function(){var e=this.props,t=e.votes,a=e.className,n=e.onClick;return r.a.createElement("div",{className:Q()("".concat(a,"-rating")),onClick:n},r.a.createElement("div",{className:"".concat(a,"-rating__stars")},this.renderRating()),r.a.createElement("div",{className:"".concat(a,"-rating__votes")},t>1e3?"".concat(parseFloat((t/1e3).toFixed(1)),"k"):t<1?"":"".concat(t)),r.a.createElement(yt,{className:"".concat(a,"-rating__arrow")}))}}]),t}(r.a.Component)),wt=a(15),jt=function(e,t){return function(){var a=Object(P.a)(I.a.mark(function a(n){var r,c,i;return I.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,n(U(e.imageFile));case 3:return r=a.sent,a.next=6,F.a.post("/profile/create-recipe",Object(u.a)({},e,{image_url:r}));case 6:return c=a.sent,i=c.data.recipe_id,n(Object(wt.b)("create-recipe")),a.abrupt("return",t.push("/recipe/".concat(i)));case 12:a.prev=12,a.t0=a.catch(0),console.error(a.t0);case 15:case"end":return a.stop()}},a,null,[[0,12]])}));return function(e){return a.apply(this,arguments)}}()},Nt=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){var n;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=e.image_url,!e.imageFile){t.next=6;break}return t.next=5,a(U(e.imageFile));case 5:n=t.sent;case 6:return t.next=8,F.a.put("/profile/edit-recipe",Object(u.a)({},e,{image_url:n}));case 8:a(xt()),a(kt(e.recipe_id,e.created_by)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}},t,null,[[0,12]])}));return function(e){return t.apply(this,arguments)}}()},kt=function(e,t){return function(a){a({type:"GET_RECIPE_REQUEST"}),F.a.get("/recipe",{params:{recipe_id:e,user_id:t}}).then(function(e){a({type:"GET_RECIPE",payload:e.data})}).catch(function(e){return a({type:"GET_ERRORS",payload:e})})}},St=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"SAVE_RECIPE"}),t.next=4,F.a.post("/recipe/save",{recipe_id:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0});case 9:case"end":return t.stop()}},t,null,[[0,6]])}));return function(e){return t.apply(this,arguments)}}()},Tt=function(){return function(){var e=Object(P.a)(I.a.mark(function e(t,a){var n,r,c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a(),r=n.auth.filterRecipes,t({type:"GET_SAVED_RECIPES_REQUEST"}),t({type:"TOGGLE_FILTER_BUTTON_PROFILE",payload:null}),t({type:"SET_PROFILE_FILTER_DATA",payload:r}),e.prev=4,e.next=7,F.a.get("/recipe/saved",{params:r});case 7:c=e.sent,t({type:"GET_SAVED_RECIPES",payload:c.data}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),t({type:"GET_ERRORS",payload:e.t0});case 14:case"end":return e.stop()}},e,null,[[4,11]])}));return function(t,a){return e.apply(this,arguments)}}()},xt=function(){return{type:"TOGGLE_EDIT_RECIPE"}},Ct=function(){return{type:"TOGGLE_SHOW_MORE"}},Ft=Object(l.b)(function(e){return{user_id:e.auth.user.user_id}},{saveRecipe:St})(function(e){var t;return r.a.createElement(Y.a,{className:"recipe-card",to:"/recipe/".concat(e.recipe.recipe_id)},r.a.createElement("img",{className:"recipe-card__thumbnail",src:e.recipe.image_url.replace("upload/","upload/q_auto:good,w_1500/"),alt:""}),r.a.createElement("div",{className:"recipe-card__meta"},r.a.createElement("div",{className:"recipe-card__title"},e.recipe.title),e.recipe.num_saves>0&&r.a.createElement("div",{className:Q()("recipe-card__saves",{"recipe-card__saves--two-rows":e.recipe.num_reviews>0})},r.a.createElement(it,{className:"recipe-card__icon"}),(t=e.recipe.num_saves)>1e6?parseFloat((t/1e6).toFixed(1))+"m":t>1e3?parseFloat((t/1e3).toFixed(1))+"k":t>0?t:""),e.recipe.num_reviews>0&&r.a.createElement(Rt,{className:"recipe-card",rating:e.recipe.rating,votes:e.recipe.num_reviews})))}),Bt=(a(259),function(e){return r.a.createElement("div",{className:"no-results"},r.a.createElement("h1",{className:"no-results__title"},"Sorry,",r.a.createElement("br",null)," we couldn't find any matches"," ",r.a.createElement("span",{style:{whiteSpace:"nowrap"}},":(")),r.a.createElement("h2",{className:"no-results__msg"},"Please try searching for another recipe!"))}),At=(a(260),function(e){var t=Object(n.useState)(null),a=Object(Z.a)(t,2),c=a[0],i=a[1],l=Object(n.useRef)(null);l=c;var s=new IntersectionObserver(function(t,a){t[0].isIntersecting&&(console.log("get more reicpes"),e.handleClick())},{});l&&s.observe(l);return e.isFetching&&console.log("RECIPES LOADING..."),e.recipes.length||e.isFetching?e.recipes.length?r.a.createElement("div",{className:Q()("recipe-results",{"recipe-results--active":e.filterOptionsOpened})},r.a.createElement("ul",{className:"recipe-results__list"},e.recipes.map(function(e,t){return r.a.createElement(Ft,{key:e.recipe_id,recipe:e})}),e.isFetching&&function(){for(var e=[],t=0;t<9;t++)e.push(r.a.createElement(et,{key:t}));return e}()),e.recipes.length<e.recipes[0].full_count?r.a.createElement("button",{ref:function(e){i(e)},className:"recipe-results__load-more",onClick:e.handleClick},"Load More"):null):null:r.a.createElement(Bt,null)}),It=(a(261),Object(l.b)(function(e){return{activeFilterBtn:e.browseRecipes.activeFilterBtn,recipes:e.browseRecipes,filterRecipes:e.browseRecipes.filterRecipes,user_id:e.auth.user.user_id,user_img:e.auth.user.image_url,isAuth:e.auth.isAuthenticated}},{getBrowseRecipes:pe,getSearchRecipes:fe,incrementOffset:de,updateFilterRecipe:Ee})(function(e){var t=""!==e.filterRecipes.search||"All Meals"!==e.filterRecipes.meal;Object(n.useEffect)(function(){document.title="Zipiwisk | The internet\u2019s source of free recipes.",e.recipes.recipes.length||t||e.updateFilterRecipe("meal","All Meals")},[]);var a=function(t,a){e.updateFilterRecipe(a,t),window.scrollTo(0,0)};return r.a.createElement("div",{className:"home"},r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement(We,{filterRecipes:e.filterRecipes,handleClick:a,isAuth:e.isAuth})),r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,{isAuth:e.isAuth,user_img:e.user_img},r.a.createElement(Ye,{filterRecipes:e.filterRecipes,handleClick:a})),!t&&r.a.createElement(Xe,null)),e.activeFilterBtn&&r.a.createElement(Je,{className:"mobile ".concat(e.activeFilterBtn),filterRecipes:e.filterRecipes,handleClick:a,buttonToggled:e.activeFilterBtn}),r.a.createElement(At,{filterOptionsOpened:e.activeFilterBtn,recipes:e.recipes.recipes,isFetching:e.recipes.isFetching,handleClick:function(){e.incrementOffset()}}))})),Pt=a(131),Mt=a(121),Lt=a(124),Dt=a(122),Ut=/^[\d\w]{2,20}$/,Gt=/^.+@.+\.(.)+$/i,Wt=/^\S{8,30}$/,zt={},Vt=function(e){return delete zt.username,e?Ut.test(e)||(zt.username="Username must be 2-20 alphanumeric characters"):zt.username="You must enter a username",zt},Kt=function(e){return delete zt.email,e?Gt.test(e)||(zt.email="Invalid email address"):zt.email="You must enter your email address",zt},Ht=function(e,t){return delete zt.password,e?Wt.test(e)||"login"===t||(zt.password="Password must be 8 - 30 characters, no whitespaces allowed"):zt.password="Enter password",zt},Zt=(ht={username:function(){var e=Object(P.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.username,t.currentUsername.toLowerCase()===a.toLowerCase()){e.next=12;break}return e.prev=2,e.next=5,F.a.get("/usernames",{params:{username:a}});case 5:e.next=12;break;case 7:if(e.prev=7,e.t0=e.catch(2),409!==e.t0.response.status){e.next=11;break}throw e.t0.response.data;case 11:throw e.t0;case 12:case"end":return e.stop()}},e,null,[[2,7]])}));return function(t){return e.apply(this,arguments)}}(),email:function(){var e=Object(P.a)(I.a.mark(function e(t){var a;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,e.prev=1,e.next=4,F.a.get("/emails",{params:{email:a}});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),409!==e.t0.response.status){e.next=10;break}throw e.t0.response.data;case 10:throw e.t0;case 11:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t){return e.apply(this,arguments)}}()},function(){var e=Object(P.a)(I.a.mark(function e(t,a,n,r){var c;return I.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=ht[r],!r){e.next=4;break}return e.next=4,c(t,a,n,r);case 4:case"end":return e.stop()}},e)}));return function(t,a,n,r){return e.apply(this,arguments)}}()),qt=function(e){var t=e.type,a=void 0===t?"text":t,n=Object(N.a)(e,["type"]);return r.a.createElement("label",{className:n.className},n.label,r.a.createElement("input",Object.assign({},n.input,{autoComplete:"off",type:a,placeholder:n.placeholder})),n.children,n.meta.touched&&n.meta.error&&r.a.createElement("div",{className:"validation-error"},n.meta.error))},Qt=Object(l.b)(null,{change:wt.a})(function(e){return r.a.createElement("label",{className:Q()(e.className,Object(me.a)({},"".concat(e.className,"--error"),e.meta.submitFailed&&e.meta.error))},r.a.createElement("span",{className:"".concat(e.className,"__text")},e.input.value?"Change Image":"Choose Image to Upload"),r.a.createElement("img",{className:"".concat(e.className,"__img"),src:e.input.value,alt:"",style:{display:e.input.value?"block":"none"}}),r.a.createElement("input",{type:"file",accept:"image/.jpg;.png;.jpeg;capture=camera",onChange:function(t){var a=t.target.files[0];if(a){URL.revokeObjectURL(e.input.value);var n=URL.createObjectURL(a),r=new FormData;r.append("file",a),r.append("upload_preset","recipes"),e.change(e.meta.form,"imageFile",r),e.input.onChange(n)}},style:{display:"none"}}))}),$t=(a(262),function(e){function t(){var e,a;Object(lt.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(ot.a)(this,(e=Object(ut.a)(t)).call.apply(e,[this].concat(r)))).onLogoutClick=function(e){e.preventDefault(),a.props.logoutUser()},a}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"render",value:function(){var e=this.props.history;return r.a.createElement("div",{className:"header"},r.a.createElement(yt,{className:"back-btn",onClick:function(){return e.goBack()}}),r.a.createElement("h2",null,"Edit Profile"),r.a.createElement("div",{style:{cursor:"pointer",color:"#0172C4"},onClick:this.onLogoutClick},"Logout"))}}]),t}(r.a.Component)),Jt=Object(X.a)(Object(l.b)(null,{logoutUser:L})($t)),Yt=(a(263),Object(l.b)(null,{toggleDelete:H,deleteUser:D})(function(e){return r.a.createElement("div",{className:"edit-delete"},r.a.createElement("div",{className:"edit-delete__cancle-btn",onClick:e.toggleDelete},"Cancel"),r.a.createElement("h1",{className:"edit-delete__title"},"Delete Account"),r.a.createElement("h2",{className:"edit-delete__msg"},"Are you sure?"),r.a.createElement("div",{className:"edit-delete__delete-btn",onClick:e.deleteUser},"Delete Account"))})),Xt=(a(264),Object(Pt.a)(Object(l.b)(function(e){return{initialValues:Object(u.a)({},e.auth.user,{currentUsername:e.auth.user.username,diet:e.auth.user.diet||"none"}),dirty:Object(Lt.a)("edit-profile"),openDelete:e.auth.openDelete,userImg:e.auth.user.image_url,email:e.auth.user.email}},{logoutUser:L,editProfile:W,toggleDelete:H})(Object(Dt.a)({form:"edit-profile",validate:function(e){var t=e.username;return Vt(t),zt},asyncValidate:Zt,asyncBlurFields:["username"],enableReinitialize:!0})(function(e){Object(n.useEffect)(function(){document.title="Zipiwisk | Edit Profile"},[]);return r.a.createElement("div",{className:"edit-profile"},r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement(Jt,null)),r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,{isAuth:!0,user_img:e.userImg},r.a.createElement("div",{className:"edit-profile__d-back-btn",onClick:function(){e.history.location.key?e.history.goBack():e.history.push("/profile")}},r.a.createElement(yt,{className:"edit-profile__d-back-icon"}),"Go back"),r.a.createElement("div",{className:"edit-profile__d-logout-btn",onClick:function(t){t.preventDefault(),e.logoutUser()}},"Logout"))),r.a.createElement("form",{className:"edit-profile-form",onSubmit:e.handleSubmit(function(t){e.editProfile(t,e.history)})},r.a.createElement(Mt.a,{name:"image_url",className:"edit-profile-form__user-img",component:Qt}),r.a.createElement("div",{className:"edit-profile-form__email"},e.email),r.a.createElement(Mt.a,{name:"full_name",component:qt,inputId:"fullname",placeholder:"Enter full name",label:"Full name",className:"edit-profile-form__input"}),r.a.createElement(Mt.a,{name:"username",component:qt,inputId:"username",placeholder:"Enter new username",label:"Username",className:"edit-profile-form__input"}),e.dirty?r.a.createElement("button",{className:"edit-profile-form__save-btn",type:"submit"},"Save changes"):null,r.a.createElement("div",{className:"edit-profile-form__delete-btn",onClick:e.toggleDelete},"Delete account"),e.openDelete&&r.a.createElement(Yt,null)))})))),ea=function(e){return r.a.createElement("header",{className:"create-recipe-header"},r.a.createElement(yt,{className:"create-recipe-header__back-btn",onClick:e.onClick}),r.a.createElement("h1",{className:"create-recipe-header__title"},"Create Recipe"))},ta=a(125),aa=a(126),na=function(e){var t=Object(n.useRef)(null);return Object(n.useEffect)(function(){!function(e){var t=e.current;t.style.height="2.7rem";var a=window.getComputedStyle(t),n=parseInt(a.getPropertyValue("padding-top"),10)+t.scrollHeight-5;t.style.height=n+"px"}(t)}),r.a.createElement("label",{className:"".concat(e.className,"__label")},e.label,r.a.createElement("textarea",Object.assign({},e.input,{placeholder:e.placeholder,className:e.className,ref:t})),e.meta.touched&&e.meta.error&&r.a.createElement("span",{className:"validation-error"},e.meta.error))},ra=function(e){return e&&e.charAt(0).toUpperCase().trim()+e.substring(1)},ca=function(e){var t=e.match(/.{0,55}/)||[""];return e&&t[0]},ia=function(e){var t=e.match(/^[1-5][\d]?/)||[""];return e&&t[0]},la=function(e){var t=e.match(/^[1-9][\d]?/)||[""];return e&&t[0]},sa=(a(87),function(){var e="Sift the flour, sugar, baking powder, and salt into a large bowl.",t="Drop batter by large spoonfuls onto the griddle\u2026";return r.a.createElement("div",{className:"ru-directions"},r.a.createElement(Mt.a,{name:"directions",className:"ru-directions__input",type:"text",component:na,label:"Instructions",placeholder:e}),r.a.createElement(Mt.a,{name:"footnote",className:"ru-directions__footnote",type:"text",component:na,label:"Footnote",placeholder:t}))}),oa=["vegetarian","vegan","breakfast","lunch","dinner","appetizer","side","dessert","beverage"],ua=function(e){return r.a.createElement("div",{className:"ru-categories"},r.a.createElement("h2",{className:"ru-categories__title"},"Categories"),e.errors.categories&&e.submitFailed&&r.a.createElement("div",{className:"validation-error"},e.errors.categories),r.a.createElement("ul",{className:"ru-categories__list"},oa.map(function(t,a,n){return r.a.createElement("li",{key:"categories "+a,className:Q()("ru-categories__item",{"ru-categories__item--active":e.categories&&e.categories.includes(t)}),onClick:function(a){return function(t,a){t.preventDefault(),e.categories.includes(a)?e.change("categories",e.categories.filter(function(e){return e!==a})):e.change("categories",[].concat(Object(d.a)(e.categories),[a]))}(a,t)}},t)})))},ma=/^[A-Z0-9].{2,55}$/,pa=/^(\d{0,3}(\.(?=\d)\d{1,2})|^[1-9]?\d?(( |-){0,2}[\u215b\xbc\u2153\xbd\u2154\xbe])|^[1-9]\d?\/(?=[1-9]\d?)[1-9]\d?|^\d{1,3}( |-)[1-9]\d?\/[1-9]\d?|^[1-9]\d{0,2}) (.){3,100}?$/i,fa={},da=Object(s.d)(Object(Dt.a)({validate:function(e){var t,a,n,r;return fa={},Object.keys(e).length&&((r=e.title)?ma.test(r)||(fa.title="Title is not valid"):fa.title="Add a recipe title",n=e.imageFile,e.image_url||n||(fa.image_url="Add an image for the recipe"),e.servings||(fa.servings="Add a yield for the recipe"),function(e){fa.ingredients=[];var t=e?e.split("\n").map(function(e){return e.trim().replace(/[ \t]{2,}/," ")}).filter(Boolean):[];if(t.length)for(var a=0;a<t.length;a++)fa.ingredients.push(null),pa.test(t[a])||(fa.ingredients[a]='Ingredient "'.concat(t[a],'" is not in a valid format: must include an amount(number) and the ingredient. ')),t[a].length>100&&(fa.ingredients[a]='Ingredient "'.concat(t[a],'" is too long')),t[a].length||(fa.ingredients[a]=null);else fa.ingredients.push("Add at least one ingredient");-1===fa.ingredients.findIndex(function(e){return null!==e})&&delete fa.ingredients}(e.ingredients),(a=e.time)&&(a.hours||a.minutes)||(fa.time={hours:"Add a time for the recipe",minutes:"Time field is required"}),e.directions||(fa.directions="Add instructions for the recipe"),e.keywords||(fa.keywords="Inlcude at least one keyword"),(t=e.categories)&&t.length<1?fa.categories="Select at least one category":t&&t.length>4&&(fa.categories="Too many categories selected")),fa}}),X.a,Object(l.b)(function(e,t){return{categories:Object(ta.a)(t.form)(e,"categories"),syncErrors:Object(aa.a)(t.form)(e)}}))(function(e){console.log(e);return r.a.createElement("form",{action:"#",className:"recipe-upsert",onKeyDown:function(e){"textarea"!==e.target.type&&"Enter"===e.key&&e.preventDefault()},onSubmit:e.handleSubmit(e.onSubmit)},r.a.createElement(Mt.a,{name:"title",className:"recipe-upsert__title",component:qt,label:"Title",placeholder:"Juicy Roasted Chicken",normalize:ra,parse:ca}),r.a.createElement(Mt.a,{name:"image_url",className:"ru-image",component:Qt}),r.a.createElement(Mt.a,{name:"servings",component:qt,label:"Yield",placeholder:"2",type:"number",pattern:"[0-9]*",normalize:la,className:"recipe-upsert__yield"}),r.a.createElement(Mt.a,{name:"ingredients",className:"recipe-upsert__ingredients",type:"text",component:na,label:"Ingredients",placeholder:"One ingredient per line"}),r.a.createElement("label",{className:"ru-time"},"Time",r.a.createElement("div",{className:"ru-time__border"},r.a.createElement(Mt.a,{name:"time.hours",component:qt,label:"Hr",placeholder:"1",normalize:la,pattern:"[0-9]*",className:"ru-time__hours"}),r.a.createElement(Mt.a,{name:"time.minutes",component:qt,label:"Min",placeholder:"15",normalize:ia,pattern:"[0-9]*",className:"ru-time__minutes"})),e.syncErrors.time&&e.submitFailed&&r.a.createElement("div",{className:"validation-error"},e.syncErrors.time.hours)),r.a.createElement(sa,null),r.a.createElement(Mt.a,{name:"keywords",component:qt,label:"Tags",placeholder:"Tags (e.g., baked, crispy, healthy)"}),r.a.createElement(ua,{categories:e.categories,change:e.change,errors:e.syncErrors,submitFailed:e.submitFailed}),r.a.createElement("button",{className:Q()("recipe-upsert__sbmt-btn",{"recipe-upsert__sbmt-btn--disabled":Object.keys(e.syncErrors).length&&e.submitFailed}),type:"submit"},e.submitText))}),Ea=(a(303),Object(X.a)(Object(l.b)(null,{createRecipe:jt})(function(e){Object(n.useEffect)(function(){document.title="Zipiwisk | Create Recipe"},[]);var t=function(){e.history.location.key?e.history.goBack():e.history.push("/profile")};return r.a.createElement("div",{className:"create-recipe"},r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement(ea,{onClick:t})),r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,null,r.a.createElement("div",{className:"create-recipe__d-back-btn",onClick:t},r.a.createElement(yt,{className:"edit-profile__d-back-icon"}),"Go back")),r.a.createElement("h1",{className:"create-recipe__title"},"Create Recipe")),r.a.createElement(da,{initialValues:{categories:[],imageFile:null},destroyOnUnmount:!1,submitText:"Save",onSubmit:function(t){e.createRecipe(t,e.history)},form:"create-recipe"}))}))),va=function(e){return function(t,a){t({type:"REMOVE_SAVED_RECIPES"}),t({type:"SET_PROFILE_FILTER_DATA",payload:{meal:e,offset:0}}),t(Tt())}},ga=(a(304),function(e){function t(){return Object(lt.a)(this,t),Object(ot.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"user-info"},r.a.createElement(Y.a,{className:"user-info__edit",to:"/profile/edit"},r.a.createElement("img",{src:this.props.image_url,alt:"user profile"})),r.a.createElement("h2",{className:"user-info__full-name"},this.props.fullName||this.props.username),r.a.createElement("h3",{className:"user-info__diet"},this.props.diet||null),r.a.createElement(Y.a,{className:"user-info__create-recipe",to:"/profile/create-recipe"},"Create Recipe"),r.a.createElement(Y.a,{className:"user-info__edit-profile-btn",to:"/profile/edit"},"Edit Profile"))}}]),t}(r.a.PureComponent)),_a=(a(305),Object(l.b)(function(e){return{meal:e.auth.filterRecipes.meal,activeFilterBtn:e.auth.activeFilterBtn,filterRecipes:e.auth.filterRecipes}},{toggleFilterBtnProfile:ge,updateFilterRecipe:va})(function(e){return r.a.createElement("div",{className:"page-toggle"},r.a.createElement(Ie,{className:"category-btn-d",meal:e.meal,active:"Meal"===e.activeFilterBtn,toggleFilterButton:e.toggleFilterBtnProfile}),r.a.createElement(Je,{filterRecipes:e.filterRecipes,handleClick:function(t){e.updateFilterRecipe(t)},buttonToggled:"Meal"}))})),ha=(a(306),Object(X.a)(Object(l.b)(function(e){return{filterRecipes:e.auth.filterRecipes,activeFilterBtn:e.auth.activeFilterBtn,auth:e.auth,savedRecipes:e.savedRecipes.recipes,isFetching:e.savedRecipes.isFetching}},{getSavedRecipes:Tt,updateFilterRecipe:va,incrementSavedOffset:function(){return function(e){e({type:"SAVED_OFFSET_INCREMENT"}),e(Tt())}}})(function(e){Object(n.useEffect)(function(){e.savedRecipes.length||e.getSavedRecipes()},[]);var t=e.auth.user,a=t.full_name,c=t.username,i=t.diet,l=t.image_url;Object(n.useEffect)(function(){document.title="Zipiwisk | ".concat(c||"Profile")},[c]);return r.a.createElement("div",{className:"profile-home"},r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,{isAuth:!0,user_img:l})),r.a.createElement(ga,{fullName:a,username:c,diet:"none"===i?null:i,image_url:l||He.a}),r.a.createElement(_a,{numSaved:e.savedRecipes.length,savedRecipes:e.savedRecipes,isFetching:e.isFetching}),e.activeFilterBtn?r.a.createElement(Je,{filterRecipes:e.filterRecipes,buttonToggled:e.activeFilterBtn,handleClick:function(t){e.updateFilterRecipe(t)}}):null,r.a.createElement(At,{filterOptionsOpened:e.activeFilterBtn,recipes:e.savedRecipes,isFetching:e.isFetching,handleClick:e.incrementSavedOffset}))}))),ba=function(){return r.a.createElement(j.a,null,r.a.createElement(w.a,{path:"/profile/edit",component:Xt}),r.a.createElement(w.a,{path:"/profile/create-recipe",component:Ea}),r.a.createElement(w.a,{path:"/profile",component:ha}))},Oa=(a(307),function(){return r.a.createElement("div",{className:"auth-header"},r.a.createElement(Y.a,{to:"/auth/login",className:"auth-header__btn"},"Login"),r.a.createElement(Y.a,{to:"/auth/signup",className:"auth-header__btn"},"Signup"))}),ya=Object(Dt.a)({form:"login",validate:function(e){var t=e.email,a=e.password;return Kt(t),Ht(a,"login"),zt}})(function(e){return r.a.createElement("form",{className:"login-form",onSubmit:e.handleSubmit(e.loginUser)},r.a.createElement("h1",{className:"login-form__title"},"Already Have an Account?",r.a.createElement("br",null),"Just Login!"),r.a.createElement(Mt.a,{name:"email",component:qt,inputId:"email",placeholder:"Enter your email",normalize:function(e){return e&&e.toLowerCase()},label:"Email",className:"login-form__input"}),r.a.createElement(Mt.a,{name:"password",component:qt,inputId:"password",placeholder:"Enter your password",label:"Password",type:"password",className:"login-form__input"}),r.a.createElement("button",{className:"signup-form__sbmt-btn",type:"submit"},"Login"))}),Ra=(a(120),Object(Dt.a)({form:"Signup",validate:function(e){var t=e.username,a=e.email,n=e.password;return Vt(t),Kt(a),Ht(n),zt},asyncValidate:Zt,asyncBlurFields:["username","email"]})(function(e){return r.a.createElement("form",{className:"signup-form",onSubmit:e.handleSubmit(e.registerUser)},r.a.createElement("h1",{className:"signup-form__title"},"Make an Account with Zipiwisk.",r.a.createElement("br",null)," It\u2019s Easy & Free!"),r.a.createElement(Mt.a,{name:"username",component:qt,inputId:"username",placeholder:"Username",label:"Username",className:"signup-form__input"}),r.a.createElement(Mt.a,{name:"email",component:qt,inputId:"email",placeholder:"Enter your email",normalize:function(e){return e&&e.toLowerCase()},label:"Email",className:"signup-form__input"}),r.a.createElement(Mt.a,{name:"password",component:qt,inputId:"password",placeholder:"Enter a password",label:"Password",type:"password",className:"signup-form__input"}),r.a.createElement("button",{className:"signup-form__sbmt-btn",type:"submit"},"Sign Up"))})),wa=Object(l.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated}},{loginUser:z,registerUser:V})(Object(X.a)(function(e){Object(n.useEffect)(function(){document.title="Zipiwisk | The internet\u2019s source of free recipes."},[]),Object(n.useEffect)(function(){e.isAuthenticated&&e.history.push("/profile")},[e.isAuthenticated]);var t=e.registerUser,a=e.loginUser;return r.a.createElement("div",{className:"auth-page"},r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement(Oa,null)),r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,{isAuth:e.isAuthenticated})),r.a.createElement(j.a,null,r.a.createElement(w.a,{path:"/auth/signup",render:function(e){return r.a.createElement(Ra,Object.assign({},e,{registerUser:t}))}}),r.a.createElement(w.a,{path:"/auth",render:function(e){return r.a.createElement(ya,Object.assign({},e,{loginUser:a}))}})))}));function ja(){return(ja=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Na(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ka=r.a.createElement("style",null,"\n    .st0{fill:#676767}\n  "),Sa=r.a.createElement("path",{className:"st0",d:"M30 16c4.4 0 8-3.6 8-8s-3.6-8-8-8-8 3.6-8 8 3.6 8 8 8zM30 44c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM30 22c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8z"}),Ta=function(e){var t=e.svgRef,a=Na(e,["svgRef"]);return r.a.createElement("svg",ja({id:"Capa_1",x:0,y:0,viewBox:"0 0 60 60",xmlSpace:"preserve",ref:t},a),ka,Sa)},xa=r.a.forwardRef(function(e,t){return r.a.createElement(Ta,ja({svgRef:t},e))}),Ca=(a.p,a(308),Object(X.a)(Object(l.b)(function(e){return{recipeSaved:e.recipe.saved}},{saveRecipe:St,toggleShowMore:Ct})(function(e){return r.a.createElement("div",{className:"recipe-header"},r.a.createElement(yt,{className:"recipe-header__back-btn",onClick:e.handleBackClick}),e.isAuth?r.a.createElement("div",{className:Q()("recipe-header__save-btn",{"recipe-header__save-btn--active":e.recipeSaved}),onClick:function(){return e.saveRecipe(e.recipe_id,e.user_id)}},e.recipeSaved?"Saved":"Save"):r.a.createElement(Y.a,{className:"recipe-header__login-btn",to:"/auth"},"Login to save"),r.a.createElement(xa,{onClick:e.toggleShowMore,className:"recipe-header__more-btn"}))}))),Fa=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){var n,r;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.get("/rating-percentage",{params:{recipe_id:e}});case 3:n=t.sent,r=n.data,a({type:"GET_RATING_PERCENTAGE",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0});case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Ba=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){var n,r;return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.get("/recipe/review",{params:{recipe_id:e}});case 3:n=t.sent,(r=n.data)&&a({type:"GET_RECIPE_REVIEW",payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),a({type:"GET_ERRORS",payload:t.t0});case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Aa=function(e){return function(){var t=Object(P.a)(I.a.mark(function t(a){return I.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,F.a.post("/recipe/review",e);case 3:a({type:"SUBMIT_REVIEW"}),a(Ia()),a(Fa(e.recipe_id)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()},Ia=function(e){return{type:"TOGGLE_REVIEW",payload:e}},Pa=function(e){var t=e.hours,a=e.minutes,n=t&&!a?"".concat(t," Hour").concat(t>1?"s":""):t&&a?"".concat(t,"Hr"):"",r=!t&&a?"".concat(a," Minute").concat(a>1?"s":""):t&&a?"".concat(a,"Min"):"";return"".concat(n," ").concat(r)},Ma=function(e){function t(){return Object(lt.a)(this,t),Object(ot.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.color!==this.props.color}},{key:"render",value:function(){var e=this;return r.a.createElement("span",{key:"starIcon"+this.props.index,className:"star",onMouseEnter:function(){return e.props.handleMouseEnter(e.props.index+1)},onClick:function(){return e.props.handleClick(e.props.index+1)}},r.a.createElement(vt,{style:{fill:this.props.color}}))}}]),t}(r.a.Component),La=function(e){function t(e){var a;return Object(lt.a)(this,t),(a=Object(ot.a)(this,Object(ut.a)(t).call(this,e))).emptyStars=["#E2E2E2","#E2E2E2","#E2E2E2","#E2E2E2","#E2E2E2"],a.handleMouseEnter=function(e){a.setStarColor(e)},a.handleClick=function(e){a.setStarColor(e),a.props.handleClick(e)},a.handleMouseLeave=function(){a.setStarColor(a.props.rating)},a.setStarColor=function(e){a.setState({starColor:Object(d.a)(a.emptyStars).fill("#FFA805",0,e)})},a.renderRating=function(){return a.state.starColor.map(function(e,t){return r.a.createElement(Ma,{index:t,color:e,handleMouseEnter:a.handleMouseEnter,handleClick:a.handleClick})})},a.state={starColor:a.emptyStars},a}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(t.starColor)!==JSON.stringify(this.state.starColor)}},{key:"render",value:function(){return r.a.createElement("div",{onMouseLeave:this.handleMouseLeave,className:"review__stars"},this.renderRating())}}]),t}(r.a.Component),Da=function(e){var t=e.star,a=e.num_reviews,n=e.votes;return a=a||1,r.a.createElement("div",{className:"review-details-votes"},r.a.createElement("span",{className:"review-details-votes__star-num"},t," star"),r.a.createElement("div",{className:"review-details-votes__bar"},r.a.createElement("div",{className:"review-details-votes__percent-bar",style:{width:"".concat(n/a*100,"%")}})),r.a.createElement("span",{className:"review-details-votes__percent-num"},"".concat(Math.round(n/a*100),"%")))},Ua=function(e){function t(){return Object(lt.a)(this,t),Object(ot.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"componentDidMount",value:function(){this.props.getRatingPercentage(this.props.recipe_id)}},{key:"render",value:function(){var e=this.props.ratingPercentage,t=e.star5,a=e.star4,n=e.star3,c=e.star2,i=e.star1,l=e.num_reviews;return r.a.createElement("div",{className:"review-details"},r.a.createElement("h2",{className:"review-details__num-votes"},l+" "," vote",1===l?"":"s"),r.a.createElement(Da,{star:"5",votes:t,num_reviews:l}),r.a.createElement(Da,{star:"4",votes:a,num_reviews:l}),r.a.createElement(Da,{star:"3",votes:n,num_reviews:l}),r.a.createElement(Da,{star:"2",votes:c,num_reviews:l}),r.a.createElement(Da,{star:"1",votes:i,num_reviews:l}))}}]),t}(r.a.Component),Ga=Object(l.b)(function(e){return{ratingPercentage:e.recipe.ratingPercentage}},{getRatingPercentage:Fa})(Ua),Wa=(a(309),Object(l.b)(function(e){return{isAuthenticated:e.auth.isAuthenticated,username:e.auth.user.username,review:e.recipe.review}},{submitReview:Aa,getRecipeReview:Ba})(function(e){var t=Object(n.useState)(0),a=Object(Z.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(""),s=Object(Z.a)(l,2),o=s[0],u=s[1];Object(n.useEffect)(function(){e.getRecipeReview(e.recipe_id)},[]);return r.a.createElement("div",{className:"review"},r.a.createElement(Ga,{recipe_id:e.recipe_id}),e.isAuthenticated?e.review?r.a.createElement("div",{className:"user-review"},r.a.createElement("h4",{className:"user-review__username"},e.username),r.a.createElement(Rt,{className:"user-review__star",rating:e.review.rating}),r.a.createElement("p",{className:"user-review__comment"},e.review.comment||"You didn't leave a comment for this recipe.")):r.a.createElement(r.a.Fragment,null,r.a.createElement(La,{handleClick:function(e){i(e)},rating:c}),r.a.createElement(na,{className:"review-comment",placeholder:"Write a review\u2026",label:"Review",input:{onChange:function(e){u(e.target.value)},value:o},meta:{touched:null,error:null}}),r.a.createElement("div",{className:Q()("review__sbmt-btn",{"review__sbmt-btn--active":c}),onClick:c?function(){var t={recipe_id:e.recipe_id,rating:c,comment:o};e.submitReview(t)}:null},"Submit")):r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",{className:"review__login-text"},"You must login to rate a recipe."),r.a.createElement(Y.a,{to:"/auth/login",className:"review__login-btn"},"Login")))})),za=Object(l.b)(function(e){return{recipe:e.recipe}},{toggleReview:Ia})(function(e){return r.a.createElement("div",{className:"recipe__details"},r.a.createElement("h1",{className:"recipe__title"},e.recipe.recipe.title),r.a.createElement(Rt,{className:"recipe",onClick:e.toggleReview,rating:e.recipe.recipe.rating,votes:e.recipe.recipe.num_reviews}),e.recipe.reviewOpen&&r.a.createElement(Wa,{recipe_id:e.recipe.recipe.recipe_id}),r.a.createElement("div",{className:"recipe__time"},Pa(e.time)))}),Va=(a(310),Object(l.b)(function(e){return{convertedServings:e.recipe.convertedServings,originalServings:e.recipe.recipe.servings}},{convertServings:function(e){return{type:"CONVERT_SERVINGS",payload:e}}})(function(e){var t=Object(n.useState)(!1),a=Object(Z.a)(t,2),c=a[0],i=a[1],l=Object(n.useState)(e.originalServings.toString()),s=Object(Z.a)(l,2),o=s[0],u=s[1],m=Object(n.useRef)(null),p=/^(?!0)[0-9]{0,2}$/;Object(n.useEffect)(function(){o?e.convertServings(o):e.convertServings(e.originalServings)},[o]);var f=function(){m.current.blur(),i(!1),o||u(e.originalServings.toString())};return r.a.createElement("div",{className:Q()("adjust-servings",{"adjust-servings--active":c}),onClick:function(){c||(m.current.focus(),i(!0),u(""))},onBlur:f},r.a.createElement("span",{className:"adjust-servings__text"},"Yield"),r.a.createElement("input",{className:Q()("adjust-servings__input",{"adjust-servings__input--active":c}),ref:m,value:o,pattern:"[0-9]*",type:"text",onChange:function(e){p.test(e.target.value)&&u(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&f()}}))})),Ka=a(69),Ha=a(134),Za={usIncrements:[["1","cup"],["\xbe","cup"],["\u2154","cup"],["\xbd","cup"],["\u2153","cup"],["\xbc","cup"],["3","Tbsp"],["2","Tbsp"],["1","Tbsp"],["\xbe","Tbsp"],["2","tsp"],["\xbd","Tbsp"],["1","tsp"],["\xbc","Tbsp"],["\u2154","tsp"],["\xbd","tsp"],["\u215b","Tbsp"],["\u2153","tsp"],["\xbc","tsp"],["\u215b","tsp"]],metricIncrements:[240,180,160,120,80,60,45,30,15,11.25,10,7.5,5,3.75,3,2.5,2,1.5,1.25,.63]},qa=Za.metricIncrements,Qa=Za.usIncrements,$a=function(e){return e.map(function(e){var t=e.amount,a=e.unit,n=e.ingredient,r=t,c=[],i="ml"===a?"volume":"g"===a?"mass":void 0;if("volume"===i){for(;r>=.63;)for(var l=0;l<qa.length;l++)if(r>=qa[l])if(r>=qa[0])c.push({amount:Math.floor(r/qa[0]),unit:Qa[0][1]}),r-=Math.floor(r/qa[0])*qa[0];else if(r-=qa[l],c[c.length-1]&&c[c.length-1].unit===Qa[l][1]){var s="".concat(c[c.length-1].amount).concat(Qa[l][0]);c[c.length-1]={amount:s,unit:Qa[l][1]}}else c.push({amount:Qa[l][0],unit:Qa[l][1]});else if(r<.63)break;return{amount:c,ingredient:n}}if("mass"===i){var o=Math.floor(t/453),u=(t%453/28.35).toFixed(t<=1?3:1);return o>0?(c.push({amount:o,unit:"lb"}),u>=.5&&c.push({amount:u,unit:"oz"})):u>=.01&&c.push({amount:u,unit:"oz"}),{amount:c,ingredient:n}}return{amount:t,ingredient:n}})},Ja=Za.metricIncrements,Ya=function(e,t,a){return e.map(function(e){var n=e.amount,r=e.unit,c=e.ingredient,i=n*(a/t),l="ml"===r?"volume":"g"===r?"mass":void 0;if("volume"===l){for(var s=i<=.63?.63:0,o=i,u=i>=600?30:i>=100?15:0;o>=u&&!(o<.63);)for(var m=0;m<Ja.length;m++)o<u?m=Ja.length:o>=Ja[m]-u&&(o-=Ja[m],s+=Ja[m],m=Ja.length);return{amount:s,unit:r,ingredient:c}}return"mass"===l?{amount:i<=1?1:Math.round(i),unit:r,ingredient:c}:{amount:Math.round(4*i)/4||.25,unit:r,ingredient:c}})},Xa=Object(Ka.a)(function(e){return e.recipe.unit},function(e){return e.recipe.recipe.servings},function(e){return e.recipe.convertedServings},function(e){return e.recipe.recipe.ingredients},function(e,t,a,n){n=Object(Ha.a)(n);var r=Ya(n,t,a),c=$a(r);switch(e){case"Metric":return r;case"US":return c;default:return r}}),en=function(e){function t(){return Object(lt.a)(this,t),Object(ot.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"render",value:function(){var e=this.props,t=e.amount,a=e.unit,n=e.ingredient;if("object"===typeof t){var c=t.map(function(e){return"".concat(e.amount," ").concat(e.unit)});return r.a.createElement("li",{className:"r-ingredients__item"},r.a.createElement("span",{className:"r-ingredients__item-amount"},"".concat(c.join(" & ")," ")),r.a.createElement("span",{className:"r-ingredients__item-ingredient"},n))}return r.a.createElement("li",{className:"r-ingredients__item"},r.a.createElement("span",{className:"r-ingredients__item-amount"},"".concat(t," ").concat(a," ")),r.a.createElement("span",{className:"r-ingredients__item-ingredient"},n))}}]),t}(r.a.Component),tn=Object(l.b)(function(e){return{ingredients:Xa(e)}})(function(e){return r.a.createElement("div",{className:"r-ingredients"},r.a.createElement(Va,null),r.a.createElement("ul",{className:"r-ingredients__list"},e.ingredients.map(function(e,t){var a=e.amount,n=e.unit,c=void 0===n?"":n,i=e.ingredient;return r.a.createElement(en,{key:"ingredient".concat(t),amount:a,unit:c,ingredient:i,i:t})})),r.a.createElement("span",{className:"r-ingredients__fade"}))}),an=function(e){var t=e.directions,a=e.footnote;return r.a.createElement("div",{className:"r-directions"},r.a.createElement("p",{className:"r-directions__text"},t),a?r.a.createElement("p",{className:"r-directions__footnote"},a):null)},nn=a(135);function rn(){return(rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function cn(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},c=Object.keys(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)a=c[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var ln=r.a.createElement("path",{d:"M8.6 7.5l6.2-6.2c.3-.3.3-.8 0-1.1s-.8-.3-1.1 0L7.5 6.4 1.3.2C1-.1.5-.1.2.2s-.3.8 0 1.1l6.2 6.2-6.2 6.2c-.3.3-.3.8 0 1.1s.8.3 1.1 0l6.2-6.2 6.2 6.2c.3.3.8.3 1.1 0s.3-.8 0-1.1L8.6 7.5z",fill:"#3B3B3B"}),sn=function(e){var t=e.svgRef,a=cn(e,["svgRef"]);return r.a.createElement("svg",rn({viewBox:"0 0 15 15",ref:t},a),ln)},on=r.a.forwardRef(function(e,t){return r.a.createElement(sn,rn({svgRef:t},e))}),un=(a.p,Object(l.b)(function(e){return{unit:e.recipe.unit}},{toggleUnit:function(){return{type:"TOGGLE_UNIT"}}})(function(e){return r.a.createElement("div",{className:e.className,onClick:e.toggleUnit},r.a.createElement("span",{className:Q()(Object(me.a)({},"".concat(e.className,"--active"),"US"===e.unit))},"US")," / ",r.a.createElement("span",{className:Q()(Object(me.a)({},"".concat(e.className,"--active"),"Metric"===e.unit))},"Metric"))})),mn=(a(314),function(e){function t(e){var a;return Object(lt.a)(this,t),(a=Object(ot.a)(this,Object(ut.a)(t).call(this,e))).state={copied:!1},a}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.created_by,n=t.user_id,c=t.toggleShowMore,i=t.toggleEditRecipe,l=t.toggleReview,s=t.className;return r.a.createElement("div",{className:s},r.a.createElement(on,{className:"".concat(s,"__close-btn"),onClick:c}),n===a?r.a.createElement("div",{onClick:function(){i(),c()},className:"".concat(s,"__edit-btn")},"Edit"):null,this.state.copied?r.a.createElement("h1",{className:"".concat(s,"__copy-msg")},"Link copied!"):r.a.createElement(nn.CopyToClipboard,{text:window.location.href,onCopy:function(){e.setState({copied:!0})}},r.a.createElement("div",{className:"".concat(s,"__copy-btn")},"Share")),r.a.createElement("div",{className:"".concat(s,"__print-btn"),onClick:function(){window.print()}},"Print"),r.a.createElement("div",{className:"".concat(s,"__review-btn"),onClick:function(){l()}},"Review"),r.a.createElement(un,{className:"".concat(s,"__unit-btn")}))}}]),t}(r.a.Component)),pn=Object(l.b)(function(e){return{created_by:e.recipe.recipe.created_by,user_id:e.auth.user.user_id,recipe_id:e.recipe.recipe.recipe_id}},{toggleShowMore:Ct,toggleEditRecipe:xt,toggleReview:Ia})(mn),fn=(a(315),function(){return r.a.createElement("div",{className:"loading"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),dn=Object(Ka.a)(function(e){return e.recipe.recipe.total_time_mins},function(e){return{hours:Math.floor(parseInt(e)/60)||"",minutes:parseInt(e)%60||""}}),En=Object(l.b)(null,{toggleEditRecipe:xt})(function(e){return r.a.createElement("header",{className:"edit-recipe-header"},r.a.createElement("div",{className:"edit-recipe-header__cancel-btn",onClick:e.toggleEditRecipe},"Cancel"),r.a.createElement("h1",{className:"edit-recipe-header__title"},"Edit Recipe"))}),vn=(a(316),Object(l.b)(function(e){return{dirty:Object(Lt.a)("edit-profile"),recipeData:e.recipe,recipeTime:dn(e)}},{getRecipe:kt,submitEditRecipe:Nt,toggleEditRecipe:xt})(function(e){var t=e.recipeData,a=t.isFetching,n=t.recipe,c=n.ingredients.join("\n"),i=n.keywords.join(", "),l=Object(u.a)({},n,{time:e.recipeTime,ingredients:c,keywords:i});return console.log("Recipe Data:",l),a?r.a.createElement(fn,null):r.a.createElement("div",{className:"edit-recipe"},r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement(En,null)),r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,null,r.a.createElement("div",{className:"edit-recipe__d-back-btn",onClick:e.toggleEditRecipe},r.a.createElement(yt,{className:"edit-profile__d-back-icon"}),"Cancel")),r.a.createElement("h1",{className:"edit-recipe__title"},"Edit Recipe")),r.a.createElement(da,{initialValues:l,submitText:"Save Changes",onSubmit:function(t){e.submitEditRecipe(t)},form:"recipe-upsert"}))})),gn=(a(317),Object(X.a)(Object(l.b)(function(e){return{recipeData:Object(u.a)({},e.recipe,{recipe:Object(u.a)({},e.recipe.recipe,{time:dn(e)})}),user_id:e.auth.user.user_id,isAuth:e.auth.isAuthenticated,user_img:e.auth.user.image_url}},{getRecipe:kt,saveRecipe:St})(function(e){var t=e.match.params.recipe_id,a=e.user_id;Object(n.useEffect)(function(){e.getRecipe(t,a)},[]);var c=e.recipeData,i=c.showMoreOpen,l=c.isFetching,s=c.editRecipe,o=c.saved,u=c.recipe,m=u.image_url,p=u.directions,f=u.footnote,d=u.time,E=u.title,v=u.username,g=!l&&m.replace("upload/","upload/q_auto:good,w_1500/");document.title=E?"".concat(E," |  Zipiwisk"):document.title;var _=function(){e.history.location.key?e.history.goBack():e.history.push("/")};return l?r.a.createElement(fn,null):s?r.a.createElement(vn,null):r.a.createElement("div",{className:"recipe"},r.a.createElement(J.a,{maxDeviceWidth:649},r.a.createElement(Ca,{recipe_id:t,user_id:a,handleBackClick:_,isAuth:e.isAuth}),i?r.a.createElement(pn,{className:"recipe-more"}):null,r.a.createElement("img",{className:"recipe__img",href:"recipe photo",alt:"",src:g}),r.a.createElement("div",{className:"recipe__container"},r.a.createElement(za,{time:d}),r.a.createElement(tn,null),r.a.createElement(an,{directions:p,time:d,footnote:f}),r.a.createElement("div",{className:"recipe__created-by"},"Recipe by ",v.toLowerCase()))),r.a.createElement(J.a,{minDeviceWidth:650},r.a.createElement(Ze,{isAuth:e.isAuth,user_img:e.user_img},r.a.createElement("div",{className:"recipe__d-back-btn",onClick:_},r.a.createElement(yt,{className:"recipe__d-back-icon"}),"Go back"),r.a.createElement(pn,{className:"header-d-more"})),r.a.createElement(tn,null),r.a.createElement("div",{className:"recipe__container"},e.isAuth?r.a.createElement("div",{className:Q()("recipe__save-btn",{"recipe__save-btn--active":o}),onClick:function(){return e.saveRecipe(t,a)}},o?"Saved":"Save"):r.a.createElement(Y.a,{className:"recipe__login-btn",to:"/auth"},"Login to save"),r.a.createElement(za,{time:d}),r.a.createElement(tn,null),r.a.createElement(an,{directions:p,time:d,footnote:f}),r.a.createElement("img",{className:"recipe__img",href:"recipe photo",alt:"",src:g}),r.a.createElement("div",{className:"recipe__created-by"},"Recipe by ",v.toLowerCase()))))}))),_n=function(e){function t(){return Object(lt.a)(this,t),Object(ot.a)(this,Object(ut.a)(t).apply(this,arguments))}return Object(mt.a)(t,e),Object(st.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(r.a.Component),hn=Object(Pt.a)(_n);!function(){if(localStorage.jwtToken){var e=localStorage.jwtToken;B(e);var t=x()(e);b.dispatch(K(t));var a=Date.now()/1e3;x()(e).exp<a&&(b.dispatch(L()),window.location.href="./auth")}}();var bn=function(){return r.a.createElement(R.a,null,r.a.createElement(hn,null,r.a.createElement(w.a,{exact:!0,path:"/",component:It}),r.a.createElement(j.a,null,r.a.createElement(S,{path:"/profile/:page?",component:ba}),r.a.createElement(w.a,{path:"/auth",component:wa}),r.a.createElement(w.a,{path:"/recipe/:recipe_id",component:gn})),r.a.createElement(ue,null)))};a(318);i.a.render(r.a.createElement(l.a,{store:b},r.a.createElement(bn,null)),document.querySelector("#root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");O?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):y(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):y(t,e)})}}()},66:function(e,t,a){e.exports=a.p+"static/media/profileLogo.c81acafd.png"},87:function(e,t,a){}},[[159,1,2]]]);
//# sourceMappingURL=main.c97ac0ed.chunk.js.map